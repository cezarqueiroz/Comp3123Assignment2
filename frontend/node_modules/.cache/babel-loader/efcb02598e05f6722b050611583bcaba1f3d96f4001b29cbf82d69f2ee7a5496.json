{"ast":null,"code":"var _jsxFileName = \"C:\\\\Collegefaculdade\\\\Semestre5\\\\FullstackDevelopment 1\\\\Assignment_2\\\\101015470_comp3123_assignment2_reactjs\\\\frontend\\\\src\\\\components\\\\EmployeeList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EmployeeList = () => {\n  _s();\n  const [employees, setEmployees] = useState([]);\n  const [search, setSearch] = useState({\n    department: \"\",\n    position: \"\"\n  });\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n\n  // Fetch employees\n  const fetchEmployees = async () => {\n    try {\n      const response = await axios.get(\"/employee\");\n      setEmployees(response.data);\n    } catch (err) {\n      setError(\"Error fetching employee data\");\n    }\n  };\n\n  // Search employees\n  const handleSearch = async () => {\n    try {\n      const response = await axios.get(\"/employee/search\", {\n        params: search\n      });\n      setEmployees(response.data);\n    } catch (err) {\n      setError(\"Error fetching search results\");\n    }\n  };\n\n  // Handle View employee details\n  const handleView = id => {\n    navigate(`/employee/${id}`);\n  };\n\n  // Handle Edit employee details\n  const handleEdit = id => {\n    navigate(`/employee/edit/${id}`);\n  };\n\n  // Handle Delete employee\n  const handleDelete = async id => {\n    try {\n      await axios.delete(`/employee/${id}`);\n      fetchEmployees(); // Refresh employee list after deletion\n    } catch (err) {\n      setError(\"Error deleting employee\");\n    }\n  };\n  useEffect(() => {\n    fetchEmployees();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Employees\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(EmployeeList, \"TD0P5/KbdBoQXySRoMqx9LgnWPE=\", false, function () {\n  return [useNavigate];\n});\n_c = EmployeeList;\nexport default EmployeeList;\nvar _c;\n$RefreshReg$(_c, \"EmployeeList\");","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","jsxDEV","_jsxDEV","EmployeeList","_s","employees","setEmployees","search","setSearch","department","position","error","setError","navigate","fetchEmployees","response","get","data","err","handleSearch","params","handleView","id","handleEdit","handleDelete","delete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Collegefaculdade/Semestre5/FullstackDevelopment 1/Assignment_2/101015470_comp3123_assignment2_reactjs/frontend/src/components/EmployeeList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst EmployeeList = () => {\r\n  const [employees, setEmployees] = useState([]);\r\n  const [search, setSearch] = useState({ department: \"\", position: \"\" });\r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  // Fetch employees\r\n  const fetchEmployees = async () => {\r\n    try {\r\n      const response = await axios.get(\"/employee\");\r\n      setEmployees(response.data);\r\n    } catch (err) {\r\n      setError(\"Error fetching employee data\");\r\n    }\r\n  };\r\n\r\n  // Search employees\r\n  const handleSearch = async () => {\r\n    try {\r\n      const response = await axios.get(\"/employee/search\", { params: search });\r\n      setEmployees(response.data);\r\n    } catch (err) {\r\n      setError(\"Error fetching search results\");\r\n    }\r\n  };\r\n\r\n  // Handle View employee details\r\n  const handleView = (id) => {\r\n    navigate(`/employee/${id}`);\r\n  };\r\n\r\n  // Handle Edit employee details\r\n  const handleEdit = (id) => {\r\n    navigate(`/employee/edit/${id}`);\r\n  };\r\n\r\n  // Handle Delete employee\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await axios.delete(`/employee/${id}`);\r\n      fetchEmployees(); // Refresh employee list after deletion\r\n    } catch (err) {\r\n      setError(\"Error deleting employee\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchEmployees();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <h2>Employees</h2>\r\n      {/* <div className=\"mb-3\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Department\"\r\n          value={search.department}\r\n          onChange={(e) => setSearch({ ...search, department: e.target.value })}\r\n          className=\"form-control\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Position\"\r\n          value={search.position}\r\n          onChange={(e) => setSearch({ ...search, position: e.target.value })}\r\n          className=\"form-control mt-2\"\r\n        />\r\n        <button onClick={handleSearch} className=\"btn btn-primary mt-2\">\r\n          Search\r\n        </button>\r\n      </div>\r\n\r\n      {error && <div className=\"alert alert-danger\">{error}</div>}\r\n\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Email</th>\r\n            <th>Position</th>\r\n            <th>Department</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {employees.length > 0 ? (\r\n            employees.map((emp) => (\r\n              <tr key={emp._id}>\r\n                <td>{`${emp.first_name} ${emp.last_name}`}</td>\r\n                <td>{emp.email}</td>\r\n                <td>{emp.position}</td>\r\n                <td>{emp.department}</td>\r\n                <td>\r\n                  <button\r\n                    onClick={() => handleView(emp._id)}\r\n                    className=\"btn btn-info btn-sm me-2\"\r\n                  >\r\n                    View\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleEdit(emp._id)}\r\n                    className=\"btn btn-warning btn-sm me-2\"\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleDelete(emp._id)}\r\n                    className=\"btn btn-danger btn-sm\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))\r\n          ) : (\r\n            <tr>\r\n              <td colSpan=\"5\" className=\"text-center\">\r\n                No employees found.\r\n              </td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmployeeList;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACS,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAC;IAAEW,UAAU,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAG,CAAC,CAAC;EACtE,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMe,QAAQ,GAAGb,WAAW,CAAC,CAAC;;EAE9B;EACA,MAAMc,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAC,WAAW,CAAC;MAC7CV,YAAY,CAACS,QAAQ,CAACE,IAAI,CAAC;IAC7B,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZN,QAAQ,CAAC,8BAA8B,CAAC;IAC1C;EACF,CAAC;;EAED;EACA,MAAMO,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,MAAMJ,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAC,kBAAkB,EAAE;QAAEI,MAAM,EAAEb;MAAO,CAAC,CAAC;MACxED,YAAY,CAACS,QAAQ,CAACE,IAAI,CAAC;IAC7B,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZN,QAAQ,CAAC,+BAA+B,CAAC;IAC3C;EACF,CAAC;;EAED;EACA,MAAMS,UAAU,GAAIC,EAAE,IAAK;IACzBT,QAAQ,CAAC,aAAaS,EAAE,EAAE,CAAC;EAC7B,CAAC;;EAED;EACA,MAAMC,UAAU,GAAID,EAAE,IAAK;IACzBT,QAAQ,CAAC,kBAAkBS,EAAE,EAAE,CAAC;EAClC,CAAC;;EAED;EACA,MAAME,YAAY,GAAG,MAAOF,EAAE,IAAK;IACjC,IAAI;MACF,MAAMvB,KAAK,CAAC0B,MAAM,CAAC,aAAaH,EAAE,EAAE,CAAC;MACrCR,cAAc,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC,CAAC,OAAOI,GAAG,EAAE;MACZN,QAAQ,CAAC,yBAAyB,CAAC;IACrC;EACF,CAAC;EAEDf,SAAS,CAAC,MAAM;IACdiB,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEZ,OAAA;IAAKwB,SAAS,EAAC,gBAAgB;IAAAC,QAAA,eAC7BzB,OAAA;MAAAyB,QAAA,EAAI;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAwEf,CAAC;AAEV,CAAC;AAAC3B,EAAA,CA9HID,YAAY;EAAA,QAICH,WAAW;AAAA;AAAAgC,EAAA,GAJxB7B,YAAY;AAgIlB,eAAeA,YAAY;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}